const backToMenu=$("#backToMenu");$(document).ready(()=>{function a(a){$.post("/api/characters",{name:a.name,class:a.class,race:a.race,subClass:a.subClass,subRace:a.subRace,briefBio:a.briefBio,campaign:a.campaign}).then(()=>{window.location.replace("/multicharacterview")}).catch(a=>{console.log(a)})}const b=$("form.newcharacter"),c=$("input#character-name"),d=$("select#class-input"),e=$("select#race-input"),f=$("select#subclass-input"),g=$("select#subrace-input"),h=$("select#campaign-input"),i=$("textarea#bio-input");(()=>{$.ajax({url:"https://www.dnd5eapi.co/api/classes",method:"GET"}).then(a=>{let b=a.results.map(a=>a.name);for(let c=0;c<b.length;c++)$("#class-input").append($(`
                <option value = ${b[c]}> ${b[c]} </option>
                `))}).catch(a=>{throw a})})(),(()=>{$.ajax({url:"https://www.dnd5eapi.co/api/races",method:"GET"}).then(a=>{let b=a.results.map(a=>a.name);for(let c=0;c<b.length;c++)$("#race-input").append($(`
                <option value = ${b[c]}> ${b[c]} </option>
                `))}).catch(a=>{throw a})})(),(()=>{$.ajax({url:"https://www.dnd5eapi.co/api/subclasses",method:"GET"}).then(a=>{let b=a.results.map(a=>a.name);for(let c=0;c<b.length;c++)$("#subclass-input").prepend($(`
                <option value = ${b[c]}> ${b[c]} </option>
                `))}).catch(a=>{throw a})})(),(()=>{$.ajax({url:"https://www.dnd5eapi.co/api/subraces",method:"GET"}).then(a=>{let b=a.results.map(a=>a.name);for(let c=0;c<b.length;c++)$("#subrace-input").append($(`
                <option value = ${b[c]}> ${b[c]} </option>
                `));$("#subrace-input").append($(`
            <option value = "null">Null</option>
            `))}).catch(a=>{throw a})})(),(()=>{$.get("/api/campaigns").then(a=>{a.map(a=>{$("#campaign-input").append($(`<option value = ${a.id}> ${a.name} </option>`))})})})(),b.on("submit",b=>{b.preventDefault();const j={name:c.val().trim(),class:d.val().trim(),race:e.val().trim(),subClass:f.val().trim(),subRace:g.val().trim(),campaign:h.val(),briefBio:i.val().trim()};j.name&&j.class&&j.race&&(a(j),c.val(""),d.val(""),e.val(""),f.val(""),g.val(""),h.val(""),i.val(""))})}),$(backToMenu).on("click",a=>{a.preventDefault(),window.location.replace("/members")});
